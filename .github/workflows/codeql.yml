name: CodeQL coverage

on:
  push:
    branches: ['codeql-workflow-integration', 'coarse-grain-dataflow']

jobs:
  codeql:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Run Queries
        run: |
          chmod +x .github/codeql/setup.sh
          .github/codeql/setup.sh
        shell: bash
      
      - uses: actions/checkout@v2
      - name: Print Results
        run: |
          chmod +x .github/codeql/results.sh
          .github/codeql/results.sh
        shell: bash